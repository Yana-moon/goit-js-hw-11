const e=document.querySelector("#search-form"),a=document.querySelector(".gallery"),i=document.querySelector(".load-more");let s=1;let t=0,o="";async function n(){const a=e.elements.searchQuery.value.trim(),i=await async function(e){try{return(await axios({url:"https://pixabay.com/api",params:{key:"33912044-22b2651672bec86fc9e274e80",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:s}})).data}catch(e){r(),console.error(e)}}(a);t=i.totalHits;const o=[];for(const{webformatURL:e,largeImageURL:a,tags:s,likes:t,views:n,comments:l,downloads:r}of i.hits)o.push({webformatURL:e,largeImageURL:a,tags:s,likes:t,views:n,comments:l,downloads:r});return o}async function l(){const e=(await n()).map((e=>`       \n      <a class="image-link" href="${e.largeImageURL}">\n        <div class="photo-card">\n        <img class="gallery-image" src="${e.webformatURL}" alt="${e.tags}" loading="lazy"/>\n        \n<div class="info">\n<ul>\n<li><p class="info-item"><b>Likes</b></p><p>${e.likes}</p></li>\n<li><p class="info-item"><b>Views</b></p><p>${e.views}</p></li>\n<li><p class="info-item"><b>Comments</b></p><p>${e.comments}</p></li>\n<li><p class="info-item"><b>Downloads</b></p><p>${e.downloads}</p></li>\n</ul>\n</div>\n        </div>\n        </a>\n        `)).join("");a.insertAdjacentHTML("beforeend",e)}function r(){Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.")}e.addEventListener("submit",(async e=>{e.preventDefault(),i.classList.add("visually-hidden"),s=1,a.replaceChildren(),await l(),console.log(t),Number(t)>40?(i.classList.remove("visually-hidden"),Notiflix.Notify.success(`'Hooray! We found ${t} images.'`)):0!==Number(t)?Notiflix.Notify.success(`'Hooray! We found ${t} images.'`):r(),o=new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250})})),i.addEventListener("click",(async function(){s+=1,s>t/40&&(Notiflix.Notify.info("We're sorry, but you've reached the end of search results."),i.classList.add("visually-hidden"));await l(),o.refresh()}));
//# sourceMappingURL=index.24dc37ff.js.map
