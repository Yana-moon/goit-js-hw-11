!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o=a("bpxeT"),c=a("2TvXO"),i=a("5IjG7"),s=a("6JpON"),u=a("dIxxU"),l=a("707g3"),d="33912044-22b2651672bec86fc9e274e80",f="https://pixabay.com/api",p=1,m="",h=0,y="";function v(){return b.apply(this,arguments)}function b(){return(b=e(o)(e(c).mark((function n(){var t;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.get("".concat(f,"/?key=").concat(d,"&q=").concat(m,"&image_type=photo&per_page=").concat(40,"&page=").concat(p,"&orientation=horizontal&safesearch=true"));case 2:return t=e.sent,h=t.data.totalHits,C(),e.abrupt("return",t.data.hits);case 6:case"end":return e.stop()}}),n)})))).apply(this,arguments)}var g=document.querySelector("#search-form"),x=document.querySelector(".gallery"),w=document.querySelector(".load-more"),L=document.querySelector(".submit"),q=document.querySelector("#search-form > input");function T(e){null===e.data&&(L.disabled=!0)}function k(e){0!==e.currentTarget.elements.searchQuery.value.trim().length&&(L.disabled=!1)}function D(){L.disabled=!0}function E(){return(E=e(o)(e(c).mark((function n(t){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.currentTarget,a=r.elements.searchQuery.value.trim(),m=a,k(t),T(t),H(),O(),e.next=10,N().finally((function(){return r.reset()}));case 10:D();case 11:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function N(){return S.apply(this,arguments)}function S(){return(S=e(o)(e(c).mark((function n(){var t;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,R(),n.next=4,v();case 4:return t=n.sent,n.next=7,t.reduce((function(e,n){return U(n)+e}),"");case 7:_(n.sent),y.refresh(),h>40&&p-1!=1&&(0,l.default)(),w.classList.remove("is-hidden"),I(),0===h?(w.classList.add("is-hidden"),e(s).Notify.failure("Sorry, there are no images matching your search query. Please try again.")):h>0&&p-1==1?(M(h),j()):j(),n.next=19;break;case 16:return n.prev=16,n.t0=n.catch(0),n.abrupt("return",console.error(n.t0));case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))).apply(this,arguments)}function _(n){x.insertAdjacentHTML("beforeend",n),y=new(e(i))(".gallery a",{captionsData:"alt",captionDelay:250})}function O(){x.innerHTML=""}function U(e){var n=e.largeImageURL,t=e.webformatURL,r=e.tags,a=e.likes,o=e.views,c=e.comments,i=e.downloads;return'\n<a href="'.concat(n,'">\n<div class="photo-card">\n<img src="').concat(t,'" alt="').concat(r,'" loading="lazy" />\n<div class="info">\n    <p class="info-item">\n    <b>Likes: </b>').concat(a,'\n    </p>\n    <p class="info-item">\n    <b>Views: </b>').concat(o,'\n    </p>\n    <p class="info-item">\n    <b>Comments: </b>').concat(c,'\n    </p>\n    <p class="info-item">\n    <b>Downloads: </b>').concat(i,"\n    </p>\n</div>\n</div></a>\n")}function C(){p+=1}function H(){p=1}function M(n){e(s).Notify.success("Hooray! We found ".concat(n," images."))}function R(){w.disabled=!0,w.textContent="Loading..."}function I(){w.disabled=!1,w.textContent="Load more"}function j(){h/40<p-1&&(w.classList.add("is-hidden"),e(s).Notify.success("We're sorry, but you've reached the end of search results."))}g.addEventListener("submit",(function(e){return E.apply(this,arguments)})),w.addEventListener("click",N),g.addEventListener("input",k,D),q.addEventListener("input",T)}();
//# sourceMappingURL=load-more.bcc83843.js.map
